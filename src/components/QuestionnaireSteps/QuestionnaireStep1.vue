<template>

<h1>–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à—É —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é</h1>
  <p>
    –£–∫–∞–∂–∏—Ç–µ –≤—Å–µ –≤–∞—à–∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ ‚Äî —Ç–∞–∫ –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –∑–∞–∫–∞–∑–æ–≤ –Ω–∞–π–¥—ë—Ç—Å—è –±–æ–ª—å—à–µ.
  </p>
    <!-- –ú—É–ª—å—Ç–∏—Å–µ–ª–µ–∫—Ç -->
  <Multiselect
    v-model="selectedSpecializations"
    :options="specializations"
    :searchable="true"
    mode="tags"
    placeholder="–ü–æ–∏—Å–∫..."
    :hide-selected="false"
  >
    <!-- –ö–∞—Å—Ç–æ–º–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∫–∞–∂–¥–æ–π –æ–ø—Ü–∏–∏ -->
    <template v-slot:option="{ option }">
      <label class="checkbox-option">
        <input
          type="checkbox"
          class="custom-checkbox-quest"
          :checked="selectedSpecializations.includes(option.value)"
          @change="toggleSelection(option)"
        />
        {{ (option as Specialization).label}}
      </label>
    </template>
  </Multiselect>

  <div class="chips-container">
    <span
      v-for="opt in specializations"
      :key="opt.value"
      class="chip"
      :class="{ 'chip--selected': selectedSpecializations.includes(opt.value) }"
      @click="toggleSelection(opt)"
    >
      {{ opt.label }}
    </span>
  </div>

</template>

<script setup lang="ts">
import '@vueform/multiselect/themes/default.css'
import '@/assets/css/QuestionnaireSteps/multiselect-quest-total.css'
import '@/assets/css/checkbox/custom-checkbox.css'
import '@/assets/css/QuestionnaireSteps/chips-quest-total.css'
import Multiselect from '@vueform/multiselect'
import { ref } from 'vue'
// üè∑ –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è option
interface Specialization {
  value: string
  label: string
}
// –î–∞–Ω–Ω—ã–µ –¥–ª—è –º—É–ª—å—Ç–∏—Å–µ–ª–µ–∫—Ç–∞
const specializations = ref<Specialization[]>([
  { value: 'web-developer', label: '–í–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫' },
  { value: 'graphic-designer', label: '–ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –¥–∏–∑–∞–π–Ω–µ—Ä' },
  { value: 'copywriter', label: '–ö–æ–ø–∏—Ä–∞–π—Ç–µ—Ä' },
])
const selectedSpecializations = ref<string[]>([])

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –≤—ã–±–æ—Ä–∞ —Å —á–µ–∫–±–æ–∫—Å–∞–º–∏ –∏ —á–∏–ø—Å–∞–º–∏
const toggleSelection = (option: { value: string }) => {
  if (selectedSpecializations.value.includes(option.value)) {
    selectedSpecializations.value = selectedSpecializations.value.filter(
      (val) => val !== option.value
    )
  } else {
    selectedSpecializations.value.push(option.value)
  }
}
</script>

<style scoped>

</style>
